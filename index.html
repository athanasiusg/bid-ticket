<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BidTicket</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel (so we can use JSX in this single file) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Lucide -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    body {
      background: linear-gradient(135deg, #0a0a0f 0%, #0f0f1a 40%, #0a0a14 100%);
    }
  </style>
</head>

<body class="text-white min-h-screen">

<div id="root"></div>

<script type="text/babel">

const { useState } = React;

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Rico Local Commentary (No API required)       */
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

function classifyBid(bidAmount, currentHighBid, minBid) {
  if (bidAmount < minBid) return "toolow";
  if (bidAmount <= currentHighBid) return "tooslow";
  const margin = (bidAmount - currentHighBid) / currentHighBid;
  if (margin > 0.30) return "crushing";
  if (margin < 0.05) return "barelywin";
  return "winning";
}

function ricoMock({ bidAmount, highBid, minBid, section }) {
  if (bidAmount < minBid) {
    return `You tried $${bidAmount}. Minimum is $${minBid}. That's not a bid, that's optimism.`;
  }
  if (bidAmount <= highBid) {
    return `Current high is $${highBid}. You tossed in $${bidAmount}. Math still matters.`;
  }
  if (bidAmount > highBid * 1.3) {
    return `Whoa. $${bidAmount} over $${highBid}? That's a power move.`;
  }
  return `Nice. $${bidAmount} clears $${highBid}. You're leading in ${section}.`;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Demo Data                                      */
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

const events = [
  {
    id: 1,
    name: "2026 AI Summit",
    subtitle: "The Future of Intelligence",
    venue: "Moscone Center, San Francisco",
    image: "ğŸ¤–",
    tickets: [
      { id: "t1", section: "Keynote Floor", highBid: 480, minBid: 200 },
      { id: "t2", section: "VIP Lounge", highBid: 1200, minBid: 800 },
      { id: "t3", section: "General Admission", highBid: 95, minBid: 40 }
    ]
  }
];

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Ticket Row                                     */
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

function TicketRow({ ticket }) {
  const [currentHighBid, setCurrentHighBid] = useState(ticket.highBid);
  const [bidValue, setBidValue] = useState("");
  const [commentary, setCommentary] = useState("");

  const handleBid = () => {
    const val = parseFloat(bidValue);
    if (!val) return;

    const status = classifyBid(val, currentHighBid, ticket.minBid);
    setCommentary(ricoMock({
      bidAmount: val,
      highBid: currentHighBid,
      minBid: ticket.minBid,
      section: ticket.section
    }));

    if (status !== "toolow" && status !== "tooslow") {
      setCurrentHighBid(val);
    }

    setBidValue("");
  };

  return (
    <div className="rounded-2xl border border-white/10 bg-white/5 p-5 mb-4">
      <div className="flex justify-between items-center">
        <div>
          <p className="font-semibold">{ticket.section}</p>
          <p className="text-sm text-white/50">Min: ${ticket.minBid}</p>
        </div>
        <div className="text-xl font-bold">${currentHighBid}</div>
      </div>

      <div className="mt-4 flex gap-2">
        <input
          type="number"
          value={bidValue}
          onChange={(e) => setBidValue(e.target.value)}
          className="flex-1 bg-white/10 rounded-xl px-3 py-2 text-white outline-none"
          placeholder={`Bid > ${currentHighBid}`}
        />
        <button
          onClick={handleBid}
          className="px-4 py-2 bg-indigo-600 rounded-xl font-bold hover:bg-indigo-500"
        >
          Bid
        </button>
      </div>

      {commentary && (
        <div className="mt-3 text-sm text-indigo-300">
          ğŸ˜ {commentary}
        </div>
      )}
    </div>
  );
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Main App                                       */
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

function App() {
  const [selectedEvent, setSelectedEvent] = useState(null);

  return (
    <div className="max-w-4xl mx-auto px-6 py-10">
      <h1 className="text-4xl font-black mb-8">BidTicket</h1>

      {!selectedEvent ? (
        events.map(event => (
          <div
            key={event.id}
            onClick={() => setSelectedEvent(event)}
            className="cursor-pointer rounded-2xl bg-white/5 p-6 mb-4 hover:bg-white/10 transition"
          >
            <h2 className="text-xl font-bold">{event.image} {event.name}</h2>
            <p className="text-white/50 text-sm">{event.subtitle}</p>
          </div>
        ))
      ) : (
        <div>
          <button
            onClick={() => setSelectedEvent(null)}
            className="mb-6 text-indigo-400"
          >
            â† Back
          </button>

          <h2 className="text-2xl font-bold mb-6">{selectedEvent.name}</h2>

          {selectedEvent.tickets.map(ticket => (
            <TicketRow key={ticket.id} ticket={ticket} />
          ))}
        </div>
      )}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);

</script>

</body>
</html>
